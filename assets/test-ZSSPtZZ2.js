import{r as s,j as l}from"./index-Du_RNoiK.js";const o=[{label:"צבע",options:[{label:"כחול/חיוור",value:0,color:"bg-red-500"},{label:"גוף ורוד/גפיים כחולות",value:1,color:"bg-yellow-500"},{label:"ורוד",value:2,color:"bg-green-500"}],defaultValue:1},{label:"דופק",options:[{label:"לא נמדד",value:0,color:"bg-red-500"},{label:"פחות מ-100",value:1,color:"bg-yellow-500"},{label:"מעל 100",value:2,color:"bg-green-500"}],defaultValue:2},{label:"גרימאס",options:[{label:"אין תגובה",value:0,color:"bg-red-500"},{label:"עיוות פנים",value:1,color:"bg-yellow-500"},{label:"שיעול/התעטשות",value:2,color:"bg-green-500"}],defaultValue:2},{label:"טונוס",options:[{label:"רפוי",value:0,color:"bg-red-500"},{label:"כיפוף מועט",value:1,color:"bg-yellow-500"},{label:"תנועה פעילה",value:2,color:"bg-green-500"}],defaultValue:2},{label:"נשימה",options:[{label:"לא נושם",value:0,color:"bg-red-500"},{label:"איטית/לא סדירה",value:1,color:"bg-yellow-500"},{label:"בכי חזק",value:2,color:"bg-green-500"}],defaultValue:2}],f=[1,5,10,15,20],B=()=>{const[i,m]=s.useState(0),[c,v]=s.useState(!1),[y,u]=s.useState(!1),[r,p]=s.useState(Array(5).fill(null)),[x,d]=s.useState(o.map(e=>e.defaultValue)),[A,j]=s.useState(0),[b,N]=s.useState(1),[S,g]=s.useState(!1);s.useEffect(()=>{let e;return c&&(e=setInterval(()=>{m(t=>t+1)},1e3)),()=>clearInterval(e)},[c]),s.useEffect(()=>{if(!c)return;const e=Math.floor(i/60),t=f.findIndex(a=>a>e);t!==-1&&(N(f[t]),f[t]===e+1&&g(!0))},[i,c]),s.useEffect(()=>{let e;return S&&(e=setInterval(()=>{new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdH2Ih3hrVP/PAAAdKzM5SUVbi4Fe+sxK").play()},3e3)),()=>clearInterval(e)},[S]);const R=e=>{const t=Math.floor(e/60),a=e%60;return`${String(t).padStart(2,"0")}:${String(a).padStart(2,"0")}`},C=()=>{c?u(!0):(v(!0),u(!1))},I=()=>{m(0),v(!1),u(!1),p(Array(5).fill(null)),d(o.map(e=>e.defaultValue)),j(0),N(1),g(!1)},M=()=>{u(!1)},V=()=>{const e=[...r];e[A]=[...x],p(e),g(!1)},k=e=>{j(e),r[e]?d(r[e]):d(o.map(t=>t.defaultValue))},h=()=>{if(!c||b===null)return 0;const t=Math.floor(i/60)/b*100;return Math.min(t,100)};return l.jsxs("div",{dir:"rtl",className:"min-h-screen p-4 relative",children:[l.jsx("div",{className:"fixed inset-0 transition-all duration-1000",style:{background:`linear-gradient(to left, ${h()>80?"#fee2e2":"#f3f4f6"} ${h()}%, transparent ${h()}%)`}}),b&&l.jsxs("div",{className:"fixed top-4 left-4 bg-blue-500 text-white rounded-full px-3 py-1 text-sm",children:["דקה ",b]}),l.jsx("div",{className:"mb-8 text-center relative z-10",children:y?l.jsxs("div",{className:"flex justify-between gap-4",children:[l.jsx("button",{onClick:M,className:"flex-1 bg-gray-500 text-white p-4 rounded-lg text-xl",children:"ביטול"}),l.jsx("button",{onClick:I,className:"flex-1 bg-red-500 text-white p-4 rounded-lg text-xl",children:"איפוס"})]}):l.jsx("button",{onClick:C,className:"w-full bg-blue-500 text-white p-4 rounded-lg text-2xl",children:R(i)})}),l.jsx("div",{className:"space-y-4 mb-8 relative z-10",children:o.map((e,t)=>l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-16 text-right",children:e.label}),l.jsx("div",{className:"flex-1 grid grid-cols-3 gap-2",children:e.options.map((a,n)=>l.jsx("button",{className:`p-2 rounded-lg text-white text-sm ${a.color} ${x[t]===a.value?"ring-2 ring-black":""}`,onClick:()=>{const w=[...x];w[t]=a.value,d(w)},children:a.label},n))})]},e.label))}),l.jsx("button",{onClick:V,className:"w-full bg-green-500 text-white p-4 rounded-lg mb-8 relative z-10",children:"שמירה"}),l.jsx("div",{className:"overflow-x-auto relative z-10",children:l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"bg-gray-100",children:[l.jsx("th",{className:"p-2 text-right",children:"דקה"}),o.map(e=>l.jsx("th",{className:"p-2 text-center",children:e.label},e.label)),l.jsx("th",{className:"p-2 text-center",children:'סה"כ'})]})}),l.jsx("tbody",{children:f.map((e,t)=>l.jsxs("tr",{className:`border-b ${A===t?"bg-blue-100":""} cursor-pointer`,onClick:()=>k(t),children:[l.jsx("td",{className:"p-2",children:e}),r[t]?r[t].map((a,n)=>l.jsx("td",{className:"p-2 text-center",children:a},n)):Array(5).fill("-").map((a,n)=>l.jsx("td",{className:"p-2 text-center",children:a},n)),l.jsx("td",{className:"p-2 text-center",children:r[t]?r[t].reduce((a,n)=>a+n,0):"-"})]},e))})]})})]})};export{B as default};
