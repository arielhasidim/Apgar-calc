import{c as ge,r as a,j as o,R as I,u as re,d as ye,e as et,f as tt,g as z,h as nt,P as st,a as _,X as rt,b as ot,T as at,B as k,C as it}from"./index-DgJkKqxi.js";import{C as xe,b as ct,P as lt,S as ut,d as dt}from"./card-C6tYjJGK.js";/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=ge("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=ge("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),mt=1,xt=1e6;let te=0;function vt(){return te=(te+1)%Number.MAX_SAFE_INTEGER,te.toString()}const ne=new Map,ve=e=>{if(ne.has(e))return;const t=setTimeout(()=>{ne.delete(e),$({type:"REMOVE_TOAST",toastId:e})},xt);ne.set(e,t)},ht=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,mt)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?ve(n):e.toasts.forEach(s=>{ve(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},X=[];let G={toasts:[]};function $(e){G=ht(G,e),X.forEach(t=>{t(G)})}function wt({...e}){const t=vt(),n=r=>$({type:"UPDATE_TOAST",toast:{...r,id:t}}),s=()=>$({type:"DISMISS_TOAST",toastId:t});return $({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:r=>{r||s()}}}),{id:t,dismiss:s,update:n}}function Ee(){const[e,t]=a.useState(G);return a.useEffect(()=>(X.push(t),()=>{const n=X.indexOf(t);n>-1&&X.splice(n,1)}),[e]),{...e,toast:wt,dismiss:n=>$({type:"DISMISS_TOAST",toastId:n})}}function b(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e==null||e(r),n===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}function he(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ne(...e){return t=>{let n=!1;const s=e.map(r=>{const i=he(r,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let r=0;r<s.length;r++){const i=s[r];typeof i=="function"?i():he(e[r],null)}}}}function W(...e){return a.useCallback(Ne(...e),e)}function Ce(e,t=[]){let n=[];function s(i,l){const d=a.createContext(l),m=n.length;n=[...n,l];const u=w=>{var c;const{scope:E,children:T,...g}=w,x=((c=E==null?void 0:E[e])==null?void 0:c[m])||d,f=a.useMemo(()=>g,Object.values(g));return o.jsx(x.Provider,{value:f,children:T})};u.displayName=i+"Provider";function y(w,E){var x;const T=((x=E==null?void 0:E[e])==null?void 0:x[m])||d,g=a.useContext(T);if(g)return g;if(l!==void 0)return l;throw new Error(`\`${w}\` must be used within \`${i}\``)}return[u,y]}const r=()=>{const i=n.map(l=>a.createContext(l));return function(d){const m=(d==null?void 0:d[e])||i;return a.useMemo(()=>({[`__scope${e}`]:{...d,[e]:m}}),[d,m])}};return r.scopeName=e,[s,Tt(r,...t)]}function Tt(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const l=s.reduce((d,{useScope:m,scopeName:u})=>{const w=m(i)[`__scope${u}`];return{...d,...w}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}var Q=a.forwardRef((e,t)=>{const{children:n,...s}=e,r=a.Children.toArray(n),i=r.find(yt);if(i){const l=i.props.children,d=r.map(m=>m===i?a.Children.count(l)>1?a.Children.only(null):a.isValidElement(l)?l.props.children:null:m);return o.jsx(oe,{...s,ref:t,children:a.isValidElement(l)?a.cloneElement(l,void 0,d):null})}return o.jsx(oe,{...s,ref:t,children:n})});Q.displayName="Slot";var oe=a.forwardRef((e,t)=>{const{children:n,...s}=e;if(a.isValidElement(n)){const r=Nt(n);return a.cloneElement(n,{...Et(s,n.props),ref:t?Ne(t,r):r})}return a.Children.count(n)>1?a.Children.only(null):null});oe.displayName="SlotClone";var gt=({children:e})=>o.jsx(o.Fragment,{children:e});function yt(e){return a.isValidElement(e)&&e.type===gt}function Et(e,t){const n={...t};for(const s in t){const r=e[s],i=t[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...d)=>{i(...d),r(...d)}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...e,...n}}function Nt(e){var s,r;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Ct(e){const t=e+"CollectionProvider",[n,s]=Ce(t),[r,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=T=>{const{scope:g,children:x}=T,f=I.useRef(null),c=I.useRef(new Map).current;return o.jsx(r,{scope:g,itemMap:c,collectionRef:f,children:x})};l.displayName=t;const d=e+"CollectionSlot",m=I.forwardRef((T,g)=>{const{scope:x,children:f}=T,c=i(d,x),p=W(g,c.collectionRef);return o.jsx(Q,{ref:p,children:f})});m.displayName=d;const u=e+"CollectionItemSlot",y="data-radix-collection-item",w=I.forwardRef((T,g)=>{const{scope:x,children:f,...c}=T,p=I.useRef(null),h=W(g,p),N=i(u,x);return I.useEffect(()=>(N.itemMap.set(p,{ref:p,...c}),()=>void N.itemMap.delete(p))),o.jsx(Q,{[y]:"",ref:h,children:f})});w.displayName=u;function E(T){const g=i(e+"CollectionConsumer",T);return I.useCallback(()=>{const f=g.collectionRef.current;if(!f)return[];const c=Array.from(f.querySelectorAll(`[${y}]`));return Array.from(g.itemMap.values()).sort((N,C)=>c.indexOf(N.ref.current)-c.indexOf(C.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:l,Slot:m,ItemSlot:w},E,s]}function Rt(e,t){return a.useReducer((n,s)=>t[n][s]??n,e)}var Re=e=>{const{present:t,children:n}=e,s=St(t),r=typeof n=="function"?n({present:s.isPresent}):a.Children.only(n),i=W(s.ref,bt(r));return typeof n=="function"||s.isPresent?a.cloneElement(r,{ref:i}):null};Re.displayName="Presence";function St(e){const[t,n]=a.useState(),s=a.useRef({}),r=a.useRef(e),i=a.useRef("none"),l=e?"mounted":"unmounted",[d,m]=Rt(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return a.useEffect(()=>{const u=H(s.current);i.current=d==="mounted"?u:"none"},[d]),re(()=>{const u=s.current,y=r.current;if(y!==e){const E=i.current,T=H(u);e?m("MOUNT"):T==="none"||(u==null?void 0:u.display)==="none"?m("UNMOUNT"):m(y&&E!==T?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,m]),re(()=>{if(t){let u;const y=t.ownerDocument.defaultView??window,w=T=>{const x=H(s.current).includes(T.animationName);if(T.target===t&&x&&(m("ANIMATION_END"),!r.current)){const f=t.style.animationFillMode;t.style.animationFillMode="forwards",u=y.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=f)})}},E=T=>{T.target===t&&(i.current=H(s.current))};return t.addEventListener("animationstart",E),t.addEventListener("animationcancel",w),t.addEventListener("animationend",w),()=>{y.clearTimeout(u),t.removeEventListener("animationstart",E),t.removeEventListener("animationcancel",w),t.removeEventListener("animationend",w)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:a.useCallback(u=>{u&&(s.current=getComputedStyle(u)),n(u)},[])}}function H(e){return(e==null?void 0:e.animationName)||"none"}function bt(e){var s,r;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Pt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],D=Pt.reduce((e,t)=>{const n=a.forwardRef((s,r)=>{const{asChild:i,...l}=s,d=i?Q:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(d,{...l,ref:r})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function At(e,t){e&&ye.flushSync(()=>e.dispatchEvent(t))}function we(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function jt(...e){return t=>{let n=!1;const s=e.map(r=>{const i=we(r,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let r=0;r<s.length;r++){const i=s[r];typeof i=="function"?i():we(e[r],null)}}}}var Se=a.forwardRef((e,t)=>{const{children:n,...s}=e,r=a.Children.toArray(n),i=r.find(Ot);if(i){const l=i.props.children,d=r.map(m=>m===i?a.Children.count(l)>1?a.Children.only(null):a.isValidElement(l)?l.props.children:null:m);return o.jsx(ae,{...s,ref:t,children:a.isValidElement(l)?a.cloneElement(l,void 0,d):null})}return o.jsx(ae,{...s,ref:t,children:n})});Se.displayName="Slot";var ae=a.forwardRef((e,t)=>{const{children:n,...s}=e;if(a.isValidElement(n)){const r=_t(n);return a.cloneElement(n,{...Mt(s,n.props),ref:t?jt(t,r):r})}return a.Children.count(n)>1?a.Children.only(null):null});ae.displayName="SlotClone";var It=({children:e})=>o.jsx(o.Fragment,{children:e});function Ot(e){return a.isValidElement(e)&&e.type===It}function Mt(e,t){const n={...t};for(const s in t){const r=e[s],i=t[s];/^on[A-Z]/.test(s)?r&&i?n[s]=(...d)=>{i(...d),r(...d)}:r&&(n[s]=r):s==="style"?n[s]={...r,...i}:s==="className"&&(n[s]=[r,i].filter(Boolean).join(" "))}return{...e,...n}}function _t(e){var s,r;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Dt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ft=Dt.reduce((e,t)=>{const n=a.forwardRef((s,r)=>{const{asChild:i,...l}=s,d=i?Se:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(d,{...l,ref:r})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Lt="VisuallyHidden",ue=a.forwardRef((e,t)=>o.jsx(Ft.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));ue.displayName=Lt;var de="ToastProvider",[fe,Vt,kt]=Ct("Toast"),[be,cn]=Ce("Toast",[kt]),[$t,q]=be(de),Pe=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:r="right",swipeThreshold:i=50,children:l}=e,[d,m]=a.useState(null),[u,y]=a.useState(0),w=a.useRef(!1),E=a.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${de}\`. Expected non-empty \`string\`.`),o.jsx(fe.Provider,{scope:t,children:o.jsx($t,{scope:t,label:n,duration:s,swipeDirection:r,swipeThreshold:i,toastCount:u,viewport:d,onViewportChange:m,onToastAdd:a.useCallback(()=>y(T=>T+1),[]),onToastRemove:a.useCallback(()=>y(T=>T-1),[]),isFocusedToastEscapeKeyDownRef:w,isClosePausedRef:E,children:l})})};Pe.displayName=de;var Ae="ToastViewport",Wt=["F8"],ie="toast.viewportPause",ce="toast.viewportResume",je=a.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=Wt,label:r="Notifications ({hotkey})",...i}=e,l=q(Ae,n),d=Vt(n),m=a.useRef(null),u=a.useRef(null),y=a.useRef(null),w=a.useRef(null),E=W(t,w,l.onViewportChange),T=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=l.toastCount>0;a.useEffect(()=>{const f=c=>{var h;s.length!==0&&s.every(N=>c[N]||c.code===N)&&((h=w.current)==null||h.focus())};return document.addEventListener("keydown",f),()=>document.removeEventListener("keydown",f)},[s]),a.useEffect(()=>{const f=m.current,c=w.current;if(g&&f&&c){const p=()=>{if(!l.isClosePausedRef.current){const R=new CustomEvent(ie);c.dispatchEvent(R),l.isClosePausedRef.current=!0}},h=()=>{if(l.isClosePausedRef.current){const R=new CustomEvent(ce);c.dispatchEvent(R),l.isClosePausedRef.current=!1}},N=R=>{!f.contains(R.relatedTarget)&&h()},C=()=>{f.contains(document.activeElement)||h()};return f.addEventListener("focusin",p),f.addEventListener("focusout",N),f.addEventListener("pointermove",p),f.addEventListener("pointerleave",C),window.addEventListener("blur",p),window.addEventListener("focus",h),()=>{f.removeEventListener("focusin",p),f.removeEventListener("focusout",N),f.removeEventListener("pointermove",p),f.removeEventListener("pointerleave",C),window.removeEventListener("blur",p),window.removeEventListener("focus",h)}}},[g,l.isClosePausedRef]);const x=a.useCallback(({tabbingDirection:f})=>{const p=d().map(h=>{const N=h.ref.current,C=[N,...en(N)];return f==="forwards"?C:C.reverse()});return(f==="forwards"?p.reverse():p).flat()},[d]);return a.useEffect(()=>{const f=w.current;if(f){const c=p=>{var C,R,A;const h=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!h){const F=document.activeElement,O=p.shiftKey;if(p.target===f&&O){(C=u.current)==null||C.focus();return}const j=x({tabbingDirection:O?"backwards":"forwards"}),U=j.findIndex(v=>v===F);se(j.slice(U+1))?p.preventDefault():O?(R=u.current)==null||R.focus():(A=y.current)==null||A.focus()}};return f.addEventListener("keydown",c),()=>f.removeEventListener("keydown",c)}},[d,x]),o.jsxs(et,{ref:m,role:"region","aria-label":r.replace("{hotkey}",T),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&o.jsx(le,{ref:u,onFocusFromOutsideViewport:()=>{const f=x({tabbingDirection:"forwards"});se(f)}}),o.jsx(fe.Slot,{scope:n,children:o.jsx(D.ol,{tabIndex:-1,...i,ref:E})}),g&&o.jsx(le,{ref:y,onFocusFromOutsideViewport:()=>{const f=x({tabbingDirection:"backwards"});se(f)}})]})});je.displayName=Ae;var Ie="ToastFocusProxy",le=a.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...r}=e,i=q(Ie,n);return o.jsx(ue,{"aria-hidden":!0,tabIndex:0,...r,ref:t,style:{position:"fixed"},onFocus:l=>{var u;const d=l.relatedTarget;!((u=i.viewport)!=null&&u.contains(d))&&s()}})});le.displayName=Ie;var Z="Toast",Ut="toast.swipeStart",Bt="toast.swipeMove",Kt="toast.swipeCancel",Ht="toast.swipeEnd",Oe=a.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:r,onOpenChange:i,...l}=e,[d=!0,m]=tt({prop:s,defaultProp:r,onChange:i});return o.jsx(Re,{present:n||d,children:o.jsx(Gt,{open:d,...l,ref:t,onClose:()=>m(!1),onPause:z(e.onPause),onResume:z(e.onResume),onSwipeStart:b(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:b(e.onSwipeMove,u=>{const{x:y,y:w}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${w}px`)}),onSwipeCancel:b(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:b(e.onSwipeEnd,u=>{const{x:y,y:w}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${w}px`),m(!1)})})})});Oe.displayName=Z;var[Yt,Xt]=be(Z,{onClose(){}}),Gt=a.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:r,open:i,onClose:l,onEscapeKeyDown:d,onPause:m,onResume:u,onSwipeStart:y,onSwipeMove:w,onSwipeCancel:E,onSwipeEnd:T,...g}=e,x=q(Z,n),[f,c]=a.useState(null),p=W(t,v=>c(v)),h=a.useRef(null),N=a.useRef(null),C=r||x.duration,R=a.useRef(0),A=a.useRef(C),F=a.useRef(0),{onToastAdd:O,onToastRemove:J}=x,M=z(()=>{var S;(f==null?void 0:f.contains(document.activeElement))&&((S=x.viewport)==null||S.focus()),l()}),j=a.useCallback(v=>{!v||v===1/0||(window.clearTimeout(F.current),R.current=new Date().getTime(),F.current=window.setTimeout(M,v))},[M]);a.useEffect(()=>{const v=x.viewport;if(v){const S=()=>{j(A.current),u==null||u()},P=()=>{const L=new Date().getTime()-R.current;A.current=A.current-L,window.clearTimeout(F.current),m==null||m()};return v.addEventListener(ie,P),v.addEventListener(ce,S),()=>{v.removeEventListener(ie,P),v.removeEventListener(ce,S)}}},[x.viewport,C,m,u,j]),a.useEffect(()=>{i&&!x.isClosePausedRef.current&&j(C)},[i,C,x.isClosePausedRef,j]),a.useEffect(()=>(O(),()=>J()),[O,J]);const U=a.useMemo(()=>f?ke(f):null,[f]);return x.viewport?o.jsxs(o.Fragment,{children:[U&&o.jsx(zt,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:U}),o.jsx(Yt,{scope:n,onClose:M,children:ye.createPortal(o.jsx(fe.ItemSlot,{scope:n,children:o.jsx(nt,{asChild:!0,onEscapeKeyDown:b(d,()=>{x.isFocusedToastEscapeKeyDownRef.current||M(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(D.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":x.swipeDirection,...g,ref:p,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:b(e.onKeyDown,v=>{v.key==="Escape"&&(d==null||d(v.nativeEvent),v.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,M()))}),onPointerDown:b(e.onPointerDown,v=>{v.button===0&&(h.current={x:v.clientX,y:v.clientY})}),onPointerMove:b(e.onPointerMove,v=>{if(!h.current)return;const S=v.clientX-h.current.x,P=v.clientY-h.current.y,L=!!N.current,V=["left","right"].includes(x.swipeDirection),B=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,Ze=V?B(0,S):0,Je=V?0:B(0,P),ee=v.pointerType==="touch"?10:2,K={x:Ze,y:Je},me={originalEvent:v,delta:K};L?(N.current=K,Y(Bt,w,me,{discrete:!1})):Te(K,x.swipeDirection,ee)?(N.current=K,Y(Ut,y,me,{discrete:!1}),v.target.setPointerCapture(v.pointerId)):(Math.abs(S)>ee||Math.abs(P)>ee)&&(h.current=null)}),onPointerUp:b(e.onPointerUp,v=>{const S=N.current,P=v.target;if(P.hasPointerCapture(v.pointerId)&&P.releasePointerCapture(v.pointerId),N.current=null,h.current=null,S){const L=v.currentTarget,V={originalEvent:v,delta:S};Te(S,x.swipeDirection,x.swipeThreshold)?Y(Ht,T,V,{discrete:!0}):Y(Kt,E,V,{discrete:!0}),L.addEventListener("click",B=>B.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),zt=e=>{const{__scopeToast:t,children:n,...s}=e,r=q(Z,t),[i,l]=a.useState(!1),[d,m]=a.useState(!1);return Zt(()=>l(!0)),a.useEffect(()=>{const u=window.setTimeout(()=>m(!0),1e3);return()=>window.clearTimeout(u)},[]),d?null:o.jsx(st,{asChild:!0,children:o.jsx(ue,{...s,children:i&&o.jsxs(o.Fragment,{children:[r.label," ",n]})})})},Qt="ToastTitle",Me=a.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return o.jsx(D.div,{...s,ref:t})});Me.displayName=Qt;var qt="ToastDescription",_e=a.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return o.jsx(D.div,{...s,ref:t})});_e.displayName=qt;var De="ToastAction",Fe=a.forwardRef((e,t)=>{const{altText:n,...s}=e;return n.trim()?o.jsx(Ve,{altText:n,asChild:!0,children:o.jsx(pe,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${De}\`. Expected non-empty \`string\`.`),null)});Fe.displayName=De;var Le="ToastClose",pe=a.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,r=Xt(Le,n);return o.jsx(Ve,{asChild:!0,children:o.jsx(D.button,{type:"button",...s,ref:t,onClick:b(e.onClick,r.onClose)})})});pe.displayName=Le;var Ve=a.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...r}=e;return o.jsx(D.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...r,ref:t})});function ke(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),Jt(s)){const r=s.ariaHidden||s.hidden||s.style.display==="none",i=s.dataset.radixToastAnnounceExclude==="";if(!r)if(i){const l=s.dataset.radixToastAnnounceAlt;l&&t.push(l)}else t.push(...ke(s))}}),t}function Y(e,t,n,{discrete:s}){const r=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),s?At(r,i):r.dispatchEvent(i)}var Te=(e,t,n=0)=>{const s=Math.abs(e.x),r=Math.abs(e.y),i=s>r;return t==="left"||t==="right"?i&&s>n:!i&&r>n};function Zt(e=()=>{}){const t=z(e);re(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function Jt(e){return e.nodeType===e.ELEMENT_NODE}function en(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function se(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var tn=Pe,$e=je,We=Oe,Ue=Me,Be=_e,Ke=Fe,He=pe;const nn=tn,Ye=a.forwardRef(({className:e,...t},n)=>o.jsx($e,{ref:n,className:_("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Ye.displayName=$e.displayName;const sn=ot("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Xe=a.forwardRef(({className:e,variant:t,...n},s)=>o.jsx(We,{ref:s,className:_(sn({variant:t}),e),...n}));Xe.displayName=We.displayName;const Ge=a.forwardRef(({className:e,...t},n)=>o.jsx(Ke,{ref:n,className:_("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Ge.displayName=Ke.displayName;const ze=a.forwardRef(({className:e,...t},n)=>o.jsx(He,{ref:n,className:_("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(rt,{className:"h-4 w-4"})}));ze.displayName=He.displayName;const Qe=a.forwardRef(({className:e,...t},n)=>o.jsx(Ue,{ref:n,className:_("text-sm font-semibold",e),...t}));Qe.displayName=Ue.displayName;const qe=a.forwardRef(({className:e,...t},n)=>o.jsx(Be,{ref:n,className:_("text-sm opacity-90",e),...t}));qe.displayName=Be.displayName;function rn(){const{toasts:e}=Ee();return o.jsxs(nn,{children:[e.map(function({id:t,title:n,description:s,action:r,...i}){return o.jsxs(Xe,{...i,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(Qe,{children:n}),s&&o.jsx(qe,{children:s})]}),r,o.jsx(ze,{})]},t)}),o.jsx(Ye,{})]})}function ln(){const[e,t]=a.useState(0),[n,s]=a.useState(!0),[r,i]=a.useState({color:null,heartRate:null,reflex:null,muscle:null,breathing:null}),[l,d]=a.useState([]),m=a.useRef(new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/fPgzEGJHfH9OaVQggUXrTp66lwFw1Fn937x3gdBCx8zPTblT4HGWu/8OihUw0PVarp97hxHQY6ldn50YYyBSV6yfbpmEIHFGG16u2tdBgNSKHf+8p7HwQtf873IBg=")),{toast:u}=Ee();a.useEffect(()=>{let c;return n&&(c=setInterval(()=>{t(p=>{const h=p+1;return[3,60,300,600,900,1200].includes(h)&&(m.current.play(),g(h)),h})},1e3)),()=>clearInterval(c)},[n]);const y=c=>{const p=Math.floor(c/60),h=c%60;return`${p.toString().padStart(2,"0")}:${h.toString().padStart(2,"0")}`},w=()=>Object.values(r).reduce((c,p)=>c+(p||0),0),E=(c,p)=>{i(h=>({...h,[c]:p}))},T=()=>{const c={time:y(e),scores:{...r},total:w()+"/"+(10-(r.breathing==null?2:0)-(r.color==null?2:0)-(r.heartRate==null?2:0)-(r.muscle==null?2:0)-(r.reflex==null?2:0)),timestamp:new Date().toLocaleString("he-IL")};d(p=>[...p,c])},g=c=>{u({title:"עברו "+c/60+" דקות",description:"מומלץ לשמור את הציון",action:o.jsx(Ge,{className:"gap-2 bg-primary text-white",altText:"תודה",children:"תודה"})})},x=()=>{if(l.length===0)return;const c=l[l.length-1],p=`ציון אפגר - ${c.time}
צבע: ${c.scores.color||0}
דופק: ${c.scores.heartRate||0}
רפלקס: ${c.scores.reflex||0}
טונוס: ${c.scores.muscle||0}
נשימה: ${c.scores.breathing||0}
ציון כולל: ${c.total}`;navigator.clipboard.writeText(p)},f=[{name:"color",title:"צבע",options:[{score:0,text:"כחול או חיוור"},{score:1,text:"גוף ורוד, גפיים כחולות"},{score:2,text:"ורוד לחלוטין"}]},{name:"heartRate",title:"דופק",options:[{score:0,text:"ללא דופק"},{score:1,text:"פחות מ-100 פעימות לדקה"},{score:2,text:"יותר מ-100 פעימות לדקה"}]},{name:"reflex",title:"תגובה לגירוי",options:[{score:0,text:"אין תגובה לגירוי"},{score:1,text:"עווית פנים"},{score:2,text:"שיעול או התעטשות"}]},{name:"muscle",title:"טונוס שרירים",options:[{score:0,text:"רפוי"},{score:1,text:"כיפוף מועט של הגפיים"},{score:2,text:"תנועה פעילה"}]},{name:"breathing",title:"נשימה",options:[{score:0,text:"לא נושם"},{score:1,text:"חלשה או לא סדירה"},{score:2,text:"טובה, בוכה"}]}];return o.jsxs("div",{children:[o.jsx(rn,{}),o.jsx(at,{}),o.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-6 font-sans",children:[o.jsxs(xe,{className:"p-4",children:[o.jsx(ct,{className:"text-2xl text-center",children:"מחשבון ציון אפגר"}),o.jsxs("div",{className:"flex flex-row-reverse items-center justify-between gap-4",children:[o.jsx("div",{className:"text-3xl font-bold",children:y(e)}),o.jsxs("div",{className:"flex gap-2",children:[o.jsx(k,{onClick:()=>s(!n),variant:"outline",size:"icon",children:n?o.jsx(ft,{className:"h-6 w-6"}):o.jsx(lt,{className:"h-6 w-6"})}),o.jsx(k,{onClick:()=>{t(0),s(!1),d([]),i({color:null,heartRate:null,reflex:null,muscle:null,breathing:null})},variant:"outline",size:"icon",children:o.jsx(pt,{className:"h-6 w-6"})})]})]})]}),o.jsx("div",{className:"space-y-4",children:f.map(c=>o.jsxs("div",{className:"space-y-2",children:[o.jsx("div",{className:"flex justify",children:o.jsx("h3",{className:"text-lg font-bold",children:c.title})}),o.jsx("div",{className:"sm:grid sm:grid-cols-3 gap-2 flex flex-col",children:c.options.map((p,h)=>o.jsxs(k,{className:`bg-gray-100 hover:text-white text-black h-16 relative
                      ${r[c.name]===p.score?"bg-primary text-white ring-2 ring-yellow-400 ring-offset-2":""}`,onClick:()=>E(c.name,p.score),children:[r[c.name]===p.score&&o.jsx(it,{className:"absolute top-1 right-1 h-4 w-4"}),p.text,o.jsx("br",{}),p.score]},h))})]},c.name))}),o.jsx(xe,{className:"p-4",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full text-right",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{className:"p-2",children:"זמן"}),o.jsx("th",{className:"p-2",children:"צבע"}),o.jsx("th",{className:"p-2",children:"דופק"}),o.jsx("th",{className:"p-2",children:"תגובה לגירוי"}),o.jsx("th",{className:"p-2",children:"טונוס"}),o.jsx("th",{className:"p-2",children:"נשימה"}),o.jsx("th",{className:"p-2",children:'סה"כ'})]})}),o.jsx("tbody",{children:l.map((c,p)=>o.jsxs("tr",{children:[o.jsx("td",{className:"p-2",children:c.time}),o.jsx("td",{className:"p-2",children:c.scores.color}),o.jsx("td",{className:"p-2",children:c.scores.heartRate}),o.jsx("td",{className:"p-2",children:c.scores.reflex}),o.jsx("td",{className:"p-2",children:c.scores.muscle}),o.jsx("td",{className:"p-2",children:c.scores.breathing}),o.jsx("td",{className:"p-2",children:c.total})]},p))})]})})}),o.jsxs("div",{className:"flex gap-2 justify-center",children:[o.jsxs(k,{onClick:T,className:"gap-2 bg-primary",children:[o.jsx(ut,{className:"h-4 w-4"}),"שמור תוצאה"]}),o.jsxs(k,{onClick:x,className:"gap-2 bg-blue-500",children:[o.jsx(dt,{className:"h-4 w-4"}),"ייצוא נתונים"]})]})]})]})}export{ln as default};
