import{c as h,r as c,j as e,a as u,b as F,B as i}from"./index-DgJkKqxi.js";import{C as G,a as I,b as L,P as U,c as $,S as D,d as O}from"./card-C6tYjJGK.js";/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=h("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q=h("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.396.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=h("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),q=F("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),N=c.forwardRef(({className:l,variant:n,...r},o)=>e.jsx("div",{ref:o,role:"alert",className:u(q({variant:n}),l),...r}));N.displayName="Alert";const b=c.forwardRef(({className:l,...n},r)=>e.jsx("h5",{ref:r,className:u("mb-1 font-medium leading-none tracking-tight",l),...n}));b.displayName="AlertTitle";const Y=c.forwardRef(({className:l,...n},r)=>e.jsx("div",{ref:r,className:u("text-sm [&_p]:leading-relaxed",l),...n}));Y.displayName="AlertDescription";const Z=()=>{const[l,n]=c.useState(0),[r,o]=c.useState(!1),[m,y]=c.useState({appearance:0,pulse:0,grimace:0,activity:0,respiration:0}),[d,w]=c.useState([]),[A,p]=c.useState(!1),[k,S]=c.useState(""),C={appearance:[{score:0,desc:"כחול או חיוור"},{score:1,desc:"גוף ורוד, גפיים כחולות"},{score:2,desc:"ורוד לחלוטין"}],pulse:[{score:0,desc:"ללא דופק"},{score:1,desc:"פחות מ-100 פעימות לדקה"},{score:2,desc:"מעל 100 פעימות לדקה"}],grimace:[{score:0,desc:"אין תגובה לגירוי"},{score:1,desc:"עיוות פנים"},{score:2,desc:"שיעול או התעטשות"}],activity:[{score:0,desc:"רפוי"},{score:1,desc:"כיפוף מועט של גפיים"},{score:2,desc:"תנועה פעילה"}],respiration:[{score:0,desc:"לא נושם"},{score:1,desc:"חלשה או לא סדירה"},{score:2,desc:"טובה, בוכה"}]},B={appearance:"צבע",pulse:"דופק",grimace:"רפלקסים",activity:"טונוס שרירים",respiration:"נשימה"},T=()=>{new Audio("data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/fPgzEGJHfH9OaVQggUXrTp66lwFw1Fn937x3gdBCx8zPTblT4HGWu/8OihUw0PVarp97hxHQY6ldn50YYyBSV6yfbpmEIHFGG16u2tdBgNSKHf+8p7HwQtf873IBg=").play()},g=c.useCallback(s=>{[1,5,10,15,20].includes(s)&&(S(`${s} דקות חלפו - האם ברצונך לשמור את הציון?`),p(!0),T())},[]);c.useEffect(()=>{let s;return r&&(s=setInterval(()=>{n(t=>{const a=t+1;return g(Math.floor(a/60)),a})},1e3)),()=>clearInterval(s)},[r,g]);const v=()=>Object.values(m).reduce((s,t)=>s+t,0),R=s=>{const t=Math.floor(s/60),a=s%60;return`${t}:${a.toString().padStart(2,"0")}`},M=(s,t)=>{y(a=>({...a,[s]:t}))},j=()=>{const s={timeMinutes:Math.floor(l/60),total:v(),scores:{...m}};w(t=>[...t,s]),p(!1)},E=()=>{const s=d.map(t=>`זמן: ${t.timeMinutes} דקות, ציון כולל: ${t.total}/10`).join(`
`);navigator.clipboard.writeText(s)},H=()=>{const s=d.map(f=>`זמן: ${f.timeMinutes} דקות, ציון כולל: ${f.total}/10`).join(`
`),t=new Blob([s],{type:"text/plain"}),a=URL.createObjectURL(t),x=document.createElement("a");x.href=a,x.download="apgar-summary.txt",x.click(),URL.revokeObjectURL(a)};return e.jsxs(G,{className:"w-full max-w-2xl mx-auto bg-white",children:[e.jsxs(I,{className:"text-center",children:[e.jsx(L,{className:"text-2xl",children:"מחשבון ציון אפגר"}),e.jsxs("div",{className:"flex justify-center items-center gap-4 mt-4",children:[e.jsx("div",{className:"text-xl font-mono",children:R(l)}),e.jsx(i,{onClick:()=>o(!r),variant:"outline",size:"icon",children:r?e.jsx(V,{className:"h-4 w-4"}):e.jsx(U,{className:"h-4 w-4"})}),e.jsx(i,{onClick:()=>{n(0),o(!1)},variant:"outline",size:"icon",children:e.jsx(P,{className:"h-4 w-4"})})]})]}),e.jsxs($,{className:"space-y-6",children:[A&&e.jsxs(N,{className:"mb-4",children:[e.jsx(b,{children:k}),e.jsx(i,{onClick:j,className:"mt-2",children:"שמור ציון"})]}),e.jsx("div",{className:"grid gap-4 md:grid-cols-2",children:Object.entries(C).map(([s,t])=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-semibold",children:B[s]}),e.jsx("div",{className:"flex flex-col gap-2",children:t.map(a=>e.jsxs("button",{onClick:()=>M(s,a.score),className:`p-2 rounded text-sm ${m[s]===a.score?"bg-blue-500 text-white":"bg-gray-100 hover:bg-gray-200"}`,children:[a.desc,e.jsx("div",{className:"font-bold mt-1",children:a.score})]},a.score))})]},s))}),e.jsxs("div",{className:"mt-6 p-4 rounded bg-gray-50 text-center",children:[e.jsxs("div",{className:"text-xl font-bold",children:["ציון סופי: ",v(),"/10"]}),e.jsxs("div",{className:"flex justify-center gap-2 mt-4",children:[e.jsxs(i,{onClick:j,className:"flex gap-2",children:[e.jsx(D,{className:"h-4 w-4"}),"שמור ציון"]}),e.jsxs(i,{onClick:E,variant:"outline",className:"flex gap-2",children:[e.jsx(O,{className:"h-4 w-4"}),"העתק סיכום"]}),e.jsxs(i,{onClick:H,variant:"outline",className:"flex gap-2",children:[e.jsx(Q,{className:"h-4 w-4"}),"הורד סיכום"]})]})]}),d.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"היסטוריית ציונים"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-right",children:"זמן"}),e.jsx("th",{className:"text-right",children:"ציון"})]})}),e.jsx("tbody",{children:d.map((s,t)=>e.jsxs("tr",{className:"border-t",children:[e.jsxs("td",{className:"py-2",children:[s.timeMinutes," דקות"]}),e.jsxs("td",{className:"py-2",children:[s.total,"/10"]})]},t))})]})})]})]})]})};export{Z as default};
